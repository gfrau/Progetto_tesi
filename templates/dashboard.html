{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="container mt-4">
  <div class="text-center mb-4">
    <h2 class="fw-bold">Dashboard epidemiologica</h2>
    <p class="text-muted">Visualizza i principali indicatori e grafici</p>
  </div>

  <div class="row text-center mb-5">
    <div class="col-md-4 mb-3">
      <div class="card shadow-sm">
        <div class="card-body">
          <h3 id="kpiPatients" class="fw-bold text-primary">--</h3>
          <p class="mb-0">Pazienti</p>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card shadow-sm">
        <div class="card-body">
          <h3 id="kpiIncontri" class="fw-bold text-success">--</h3>
          <p class="mb-0">Ricoveri</p>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card shadow-sm">
        <div class="card-body">
          <h3 id="kpiParametri" class="fw-bold text-warning">--</h3>
          <p class="mb-0">Parametri clinici</p>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6 mb-4">
      <div class="card shadow-sm">
        <div class="card-header bg-light fw-semibold">Grafico 1</div>
        <div class="card-body">
          <select id="aggregationField1" class="form-select mb-3">
            <option value="gender">Genere</option>
            <option value="code">Codice LOINC</option>
            <option value="status">Stato Encounter</option>
            <option value="age_group">Fasce di età</option>
          </select>
          <canvas id="chart1"></canvas>
        </div>
      </div>
    </div>
    <div class="col-md-6 mb-4">
      <div class="card shadow-sm">
        <div class="card-header bg-light fw-semibold">Grafico 2</div>
        <div class="card-body">
          <select id="aggregationField2" class="form-select mb-3">
            <option value="gender">Genere</option>
            <option value="code">Codice LOINC</option>
            <option value="status">Stato Encounter</option>
            <option value="age_group">Fasce di età</option>
          </select>
          <canvas id="chart2"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="/static/js/dashboard.js"></script>
{% endblock %}