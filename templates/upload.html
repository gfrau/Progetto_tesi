
{% extends "base.html" %}
{% block title %}Upload{% endblock %}

{% block content %}
<h1>Upload dei dati FHIR</h1>
<p class="description">Carica i tuoi file CSV o JSON per singole risorse, oppure un file unificato con dati misti.</p>

<div class="upload-group">
  <h2>Carica file CSV</h2>
  <form action="/api/upload/patient/csv" method="post" enctype="multipart/form-data">
    <input type="file" name="file" accept=".csv" required>
    <button type="submit" class="btn btn-primary">Carica Patient CSV</button>
  </form>
  <form action="/api/upload/encounter/csv" method="post" enctype="multipart/form-data">
    <input type="file" name="file" accept=".csv" required>
    <button type="submit" class="btn btn-success">Carica Encounter CSV</button>
  </form>
  <form action="/api/upload/observation/csv" method="post" enctype="multipart/form-data">
    <input type="file" name="file" accept=".csv" required>
    <button type="submit" class="btn btn-warning">Carica Observation CSV</button>
  </form>
</div>

<div class="upload-group">
  <h2>Carica file JSON</h2>
  <form action="/api/upload/patient/json" method="post" enctype="multipart/form-data">
    <input type="file" name="file" accept=".json" required>
    <button type="submit" class="btn btn-primary">Carica Patient JSON</button>
  </form>
  <form action="/api/upload/encounter/json" method="post" enctype="multipart/form-data">
    <input type="file" name="file" accept=".json" required>
    <button type="submit" class="btn btn-success">Carica Encounter JSON</button>
  </form>
  <form action="/api/upload/observation/json" method="post" enctype="multipart/form-data">
    <input type="file" name="file" accept=".json" required>
    <button type="submit" class="btn btn-warning">Carica Observation JSON</button>
  </form>
</div>

<div class="upload-group">
  <h2>Caricamento Unificato</h2>
  <form action="/api/upload/unified" method="post" enctype="multipart/form-data">
    <input type="file" name="file" accept=".csv,.json" required>
    <button type="submit" class="btn btn-secondary">Upload Dati Reali</button>
  </form>
</div>

{% endblock %}
